# 浏览页配置
>创建人：**Lee**  
>创建时间：2017-10-09  
>最后修改人：**Lee**  
>修改时间：2017-10-09 

本节主要说明如何配置一个普通的浏览页面(<font color="red">假设你已经了解控制器基本结构和意义～</font>)，以了解及页面内各项参数的含义。  
主要是dataModule的配置，在pageModule我们无需做任何配置。  

## dataModule配置
在控制器基础节，我们了解到了将dataModule里某个元素的key值设置为COMMON_CONSTANT.BrowseKey或'Browse_GridModule'时，就表明它是对浏览页进行配置的参数。浏览页的配置如下：

```js
//浏览页
{
    key: COMMON_CONSTANT.BrowseKey,
    module: {
        eipGridTable: [],
        eipSimpleTable: [],
        eipAdvancedTable: [],
        isShowEdit: "true",
        isShowNew: "true",
        isShowDelete: "true",
        isShowExport: "true"
    }
}
```  

对于key来说，浏览页的设置是固定的，我们只需要关注module的配置。module是一个对象类型的参数，可能的参数如上代码所列，下面我们逐一看下这些参数的含义和配置要求。  
### eipGridTable  
简单来说，eipGridTable定义了浏览页的表头信息，它是一个对象数组，每一个对象存储一个字段信息以及该字段的额外配置，每个对象可能的参数如下表。  

| 参数名 | 必有 | 说明
| :------: | :------: | :------
| name | 是 | 字段显示名称，即表头名  
| field | 是 | 字段名  
| cellTemplate | 否 | 单元格显示模板  
| enableSorting | 否 | 是否启用排序？  
| visible | 否 | 字段是否显示  
| isDelKey | 否 | 是否主键  
| isDelArray | 否 | 是否在删除的时候显示该字段名  
| delShowName | 否 | ？  
| isLink | 否 | 是否链接字段  
| linkState | 否 | 链接的路由地址，配合isLink使用  
| linkParams | 否 | 链接地址需要传递的参数，配合isLink使用  
| linkTransportType | 否 | 链接类型？，配合isLink使用  
| width | 否 | 单元格宽度  

说明：  
1、name参数必有，字符串类型，可为空，它表示字段的显示名称，即表头上对应的信息；  
2、field必有，字符串类型，不能为空。它对应后端的返回字段名，方便做数据绑定；  
3、cellTemplate，对象类型，字段显示模板。如果需要对字段进行额外包装显示时，可使用该参数；另外，字典类型字段也需要配置该参数来显示；  
4、enableSorting，真假值，是否启用字段排序；  
5、visible，真假值，控制字段在表格是否显示；  
6、isDelKey，真假值，删除键，也就是主键。删除行记录的时候，向后台传递的值。  
7、isDelArray，真假值，删除行记录提示该字段是否删除  
8、delShowName，？？  
9、isLink，真假值，字段是否显示为超链接；  
10、linkState，字符串，当字段是超链接时，需要链接的路由地址；  
11、linkParams，字符串数组，当字段是超链接时，随路由地址传递的参数；  
12、linkTransportType，字符串，传递类型？一般为'STRING'  
13、width，数字或百分比字符串，控制单元格的宽度。  

配置示例：

```js
eipGridTable: [
        { name: '主键', field: 'PROBLEM_ID', visible: false, isDelKey: true },
        { name: '序号', field: 'ROW_NUM', visible: true, width: 50 },
        { name: '检查单位', field: 'ORG_INSP_NAME',cellTemplate: { cell_tree_edit: true }, enableSorting:true, isDelArray: true, delShowName: true, isLink: true, linkState: "MainFrame.DemoProblem.Edit", linkParams: ['PROBLEM_ID'], linkTransportType: "STRING" },
        { name: '受检单位', field: 'ORG_INSPED_NAME',cellTemplate: { cell_tree_edit: true } },
        { name: '承包商', field: 'DICT_DEMO_CONTRACTOR_NAME' },
        { name: '问题编号', field: 'PROBLEM_NUM', enableSorting: true },
        { name: '问题描述', field: 'PROBLEM_DESC' },
        { name: '检查日期', field: 'INSPECT_TIME' },
        { name: '要求完成时间', field: 'DEMAND_TIME' },
        { name: '问题状态', field: 'DATA_STATUS', width: 100, cellTemplate: { cell_dict_Code: 'DICT_DEMO_PROBLEM_STATUS' } }
]
```

### eipSimpleTable
简单查询配置。通过该字段配置浏览页简单查询的字段信息。一般配置一个字段即可。可能的参数和含义如下：  
1、name，字符串类型，字段显示名称；  
2、type，字符串类型，字段显示类型，可能的取值包括'tree'、'text'、'select'、'date'等；类型不同，展示方式也不一样；  
3、ngModel，字符串类型，需要查询的字段名称；  
4、placeholder，字符串类型，字段提示内容；  
5、groupOrder，排序？  
6、hasPermit，权限？  
配置示例：  

```js
eipSimpleTable: [
    { name: '检查单位', type: 'tree', placeholder: '', ngModel: 'ORG_INSP_ID', groupOrder: 1, hasPermit: true }
]
```

### eipAdvancedTable
高级查询配置，对象数组类型，设置高级查询需要查询的字段。字段配置上基本和简单查询一样。  
配置示例：  

```js
eipAdvancedTable: [
    { name: '检查单位', type: 'tree', ngModel: 'ORG_INSP_ID', groupOrder: 1 },
    { name: '受检单位', type: 'tree', ngModel: 'ORG_INSPED_ID', groupOrder: 2 },
    { name: '承包商', type: 'select', ngModel: 'DICT_DEMO_CONTRACTOR', dataSourceUrl: 'DemoProblem/GetContractorList', multiple: 'false', groupOrder: 3 },
    { name: '问题状态', type: 'select', ngModel: 'DATA_STATUS', groupOrder: 4 },
    { name: '检查起始日期', type: 'date', ngModel: 'INSP_TIME_BEGIN', groupOrder: 5, format: 'yyyy/MM/dd' },
    { name: '检查截止日期', type: 'date', ngModel: 'INSP_TIME_END', groupOrder: 6, format: 'yyyy/MM/dd' },
    { name: '问题编号', type: 'text', ngModel: 'PROBLEM_NUM', placeholder: '问题编号', groupOrder: 7 },
    { name: '录入人', type: 'text', ngModel: 'OP_CREATE_UNAME', placeholder: '录入人', groupOrder: 8 }
]
```

### pageSetting
浏览页按钮配置。